<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CloneFile — Futuristic UI</title>

  <style>
    :root{
      --bg0:#05060a;
      --bg1:#0b1020;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.10);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.62);
      --neon1:#57d6ff;
      --neon2:#a855f7;
      --neon3:#22c55e;
      --warn:#f59e0b;
      --bad:#ef4444;
      --radius: 18px;
      --shadow: 0 20px 60px rgba(0,0,0,.55);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color: var(--text);
      background:
        radial-gradient(1200px 800px at 15% 10%, rgba(88, 214, 255, .18), transparent 55%),
        radial-gradient(900px 700px at 85% 15%, rgba(168, 85, 247, .18), transparent 55%),
        radial-gradient(900px 700px at 50% 90%, rgba(34, 197, 94, .10), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      overflow-x:hidden;
    }

    /* subtle animated grid */
    .grid{
      position:fixed; inset:0;
      background-image:
        linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.06) 1px, transparent 1px);
      background-size: 44px 44px;
      mask-image: radial-gradient(700px 500px at 50% 10%, black 40%, transparent 70%);
      opacity:.35;
      pointer-events:none;
      animation: drift 14s linear infinite;
    }
    @keyframes drift{
      from{ transform: translateY(0); }
      to{ transform: translateY(44px); }
    }

    .wrap{
      min-height:100%;
      display:grid;
      place-items:center;
      padding: 38px 18px;
      position:relative;
      z-index:1;
    }

    .card{
      width:min(960px, 100%);
      background: linear-gradient(180deg, var(--panel), rgba(255,255,255,.03));
      border: 1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(14px);
      -webkit-backdrop-filter: blur(14px);
      overflow:hidden;
      position:relative;
    }

    .card::before{
      content:"";
      position:absolute; inset:-2px;
      background: conic-gradient(
        from 180deg,
        rgba(87,214,255,.0),
        rgba(87,214,255,.35),
        rgba(168,85,247,.35),
        rgba(34,197,94,.25),
        rgba(87,214,255,.0)
      );
      filter: blur(18px);
      opacity:.55;
      z-index:0;
      pointer-events:none;
    }

    .inner{
      position:relative;
      z-index:1;
      padding: 26px;
    }

    header{
      display:flex;
      gap:16px;
      justify-content:space-between;
      align-items:flex-start;
      flex-wrap:wrap;
      margin-bottom: 18px;
    }

    .brand{
      display:flex; align-items:center; gap:12px;
    }

    .logo{
      width:44px; height:44px;
      border-radius: 14px;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,255,255,.30), transparent 45%),
        linear-gradient(135deg, rgba(87,214,255,.75), rgba(168,85,247,.65));
      border: 1px solid rgba(255,255,255,.20);
      box-shadow: 0 10px 30px rgba(87,214,255,.15);
      position:relative;
    }
    .logo::after{
      content:"";
      position:absolute; inset:10px;
      border-radius: 10px;
      border: 1px dashed rgba(255,255,255,.22);
      opacity:.7;
    }

    h1{
      margin:0;
      font-size: 20px;
      letter-spacing:.2px;
    }
    .sub{
      margin: 3px 0 0;
      color: var(--muted);
      font-size: 13px;
      line-height: 1.35;
      max-width: 58ch;
    }

    .pill{
      display:inline-flex;
      gap:8px;
      align-items:center;
      padding: 8px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.78);
      font-size: 12px;
      white-space:nowrap;
    }
    .dot{
      width:8px; height:8px; border-radius:999px;
      background: var(--neon3);
      box-shadow: 0 0 16px rgba(34,197,94,.65);
    }

    .content{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 16px;
    }
    @media (max-width: 860px){
      .content{ grid-template-columns: 1fr; }
    }

    .panel{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      border-radius: 16px;
      padding: 16px;
    }

    .panel h2{
      margin:0 0 10px;
      font-size: 14px;
      letter-spacing:.35px;
      text-transform: uppercase;
      color: rgba(255,255,255,.78);
    }

    .drop{
      border-radius: 16px;
      border: 1px dashed rgba(255,255,255,.22);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      padding: 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 14px;
      transition: transform .15s ease, border-color .15s ease, background .15s ease;
    }
    .drop:hover{
      transform: translateY(-1px);
      border-color: rgba(87,214,255,.40);
      background: linear-gradient(180deg, rgba(87,214,255,.10), rgba(255,255,255,.02));
    }

    .fileBtn{
      appearance:none;
      border: 1px solid rgba(255,255,255,.18);
      background:
        radial-gradient(120px 80px at 20% 20%, rgba(255,255,255,.18), transparent 50%),
        linear-gradient(135deg, rgba(87,214,255,.55), rgba(168,85,247,.45));
      color: rgba(255,255,255,.92);
      padding: 10px 14px;
      border-radius: 14px;
      cursor:pointer;
      font-weight: 600;
      letter-spacing:.2px;
      box-shadow: 0 12px 30px rgba(87,214,255,.10);
      transition: transform .12s ease, filter .12s ease;
      white-space:nowrap;
    }
    .fileBtn:hover{ transform: translateY(-1px); filter:saturate(1.1); }
    .fileBtn:active{ transform: translateY(0px) scale(.99); }

    input[type="file"]{
      position:absolute;
      opacity:0;
      pointer-events:none;
      width:1px; height:1px;
    }

    .meta{
      display:grid;
      gap: 10px;
    }

    .row{
      display:flex;
      justify-content:space-between;
      gap:12px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      font-size: 13px;
    }
    .row span:first-child{ color: var(--muted); }
    .row span:last-child{ color: rgba(255,255,255,.90); text-align:right; overflow-wrap:anywhere; }

    .actions{
      display:flex;
      flex-wrap:wrap;
      gap: 10px;
      margin-top: 12px;
    }

    .btn{
      appearance:none;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.88);
      padding: 10px 12px;
      border-radius: 14px;
      cursor:pointer;
      font-weight: 600;
      letter-spacing:.2px;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.30);
      background: rgba(255,255,255,.08);
    }
    .btn:active{ transform: translateY(0px); }
    .btn.primary{
      background:
        radial-gradient(120px 80px at 20% 20%, rgba(255,255,255,.18), transparent 50%),
        linear-gradient(135deg, rgba(34,197,94,.45), rgba(87,214,255,.35));
      border-color: rgba(34,197,94,.35);
    }

    .log{
      margin-top: 10px;
      padding: 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.25);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      line-height: 1.4;
      color: rgba(255,255,255,.82);
      max-height: 240px;
      overflow:auto;
      white-space:pre-wrap;
    }

    .hint{
      margin-top: 12px;
      color: rgba(255,255,255,.62);
      font-size: 12px;
      line-height: 1.35;
    }
    .hint strong{ color: rgba(255,255,255,.86); }
    .warn{
      color: rgba(245,158,11,.95);
    }
  </style>
</head>

<body>
  <div class="grid" aria-hidden="true"></div>

  <main class="wrap">
    <section class="card">
      <div class="inner">
        <header>
          <div class="brand">
            <div class="logo" aria-hidden="true"></div>
            <div>
              <h1>CloneFile</h1>
              <p class="sub">
                Select a file → clone it in-memory → generate a new Object URL.
                Designed as a modern, futuristic “console panel”.
              </p>
            </div>
          </div>

          <div class="pill"><span class="dot"></span>Ready</div>
        </header>

        <div class="content">
          <!-- LEFT: file + log -->
          <div class="panel">
            <h2>Input</h2>

            <div class="drop">
              <div>
                <div style="font-weight:700; margin-bottom:4px;">Choose a file</div>
                <div style="color: var(--muted); font-size:12px;">
                  We’ll clone it as a new <code>File</code> object and create a fresh <code>blob:</code> URL.
                </div>
              </div>

              <button class="fileBtn" id="pickBtn" type="button">Select file</button>
              <input id="fileInput" type="file" />
            </div>

            <div class="actions">
              <button class="btn primary" id="copyUrlBtn" type="button" disabled>Copy Object URL</button>
              <button class="btn" id="openUrlBtn" type="button" disabled>Open Object URL</button>
              <button class="btn" id="runBatBtn" type="button">Run .bat (not supported)</button>
              <button class="btn" id="clearBtn" type="button">Clear</button>
            </div>

            <div class="log" id="log" aria-live="polite"></div>

            <div class="hint">
              <span class="warn">Note:</span> Browsers generally <strong>cannot execute local .bat files</strong>.
              If you need local automation, use <strong>Electron</strong>, a <strong>native app</strong>,
              or a <strong>local backend</strong> that your UI calls.
            </div>
          </div>

          <!-- RIGHT: metadata -->
          <div class="panel">
            <h2>File telemetry</h2>

            <div class="meta">
              <div class="row"><span>Name</span><span id="nameVal">—</span></div>
              <div class="row"><span>Type</span><span id="typeVal">—</span></div>
              <div class="row"><span>Size</span><span id="sizeVal">—</span></div>
              <div class="row"><span>Last modified</span><span id="lmVal">—</span></div>
              <div class="row"><span>Object URL</span><span id="urlVal">—</span></div>
              <div class="row"><span>Original === Clone</span><span id="eqVal">—</span></div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    const $ = (sel) => document.querySelector(sel);

    const fileInput = $("#fileInput");
    const pickBtn   = $("#pickBtn");
    const logEl     = $("#log");

    const nameVal = $("#nameVal");
    const typeVal = $("#typeVal");
    const sizeVal = $("#sizeVal");
    const lmVal   = $("#lmVal");
    const urlVal  = $("#urlVal");
    const eqVal   = $("#eqVal");

    const copyUrlBtn = $("#copyUrlBtn");
    const openUrlBtn = $("#openUrlBtn");
    const runBatBtn  = $("#runBatBtn");
    const clearBtn   = $("#clearBtn");

    let currentObjectUrl = null;

    function log(line) {
      const ts = new Date().toLocaleTimeString();
      logEl.textContent += `[${ts}] ${line}\n`;
      logEl.scrollTop = logEl.scrollHeight;
    }

    function formatBytes(bytes) {
      if (!Number.isFinite(bytes)) return "—";
      const units = ["B","KB","MB","GB","TB"];
      let v = bytes, i = 0;
      while (v >= 1024 && i < units.length - 1) { v /= 1024; i++; }
      return `${v.toFixed(i === 0 ? 0 : 2)} ${units[i]}`;
    }

    function setTelemetry({ original, clone, objectUrl }) {
      nameVal.textContent = original?.name ?? "—";
      typeVal.textContent = original?.type || "(unknown)";
      sizeVal.textContent = formatBytes(original?.size);
      lmVal.textContent   = original ? new Date(original.lastModified).toLocaleString() : "—";

      urlVal.textContent = objectUrl ?? "—";
      eqVal.textContent  = (original && clone) ? String(original === clone) : "—";

      copyUrlBtn.disabled = !objectUrl;
      openUrlBtn.disabled = !objectUrl;
    }

    function revokeCurrentUrl() {
      if (currentObjectUrl) {
        URL.revokeObjectURL(currentObjectUrl);
        log(`Revoked previous Object URL.`);
        currentObjectUrl = null;
      }
    }

    function createNewObjectURL(fileObj) {
      revokeCurrentUrl();
      const objectURL = URL.createObjectURL(fileObj);
      currentObjectUrl = objectURL;
      log(`Created Object URL: ${objectURL}`);
      return objectURL;
    }

    pickBtn.addEventListener("click", () => fileInput.click());

    fileInput.addEventListener("change", (e) => {
      const original = e.target.files?.[0];

      if (!original) {
        log("No file selected.");
        return;
      }

      // create the clone
      const clone = new File([original], original.name, {
        type: original.type,
        lastModified: original.lastModified,
      });

      log(`Original: ${original.name} (${formatBytes(original.size)})`);
      log(`Clone created. original === clone -> ${original === clone}`);

      const objectUrl = createNewObjectURL(clone);
      setTelemetry({ original, clone, objectUrl });

      // Your note: "Sent clone to batch..."
      // In a browser you cannot pass the file to a .bat directly.
      // To copy it to temp, you'd typically upload to a local service or use Electron.
    });

    copyUrlBtn.addEventListener("click", async () => {
      if (!currentObjectUrl) return;
      try {
        await navigator.clipboard.writeText(currentObjectUrl);
        log("Copied Object URL to clipboard.");
      } catch {
        log("Clipboard write failed (permission / browser restriction).");
      }
    });

    openUrlBtn.addEventListener("click", () => {
      if (!currentObjectUrl) return;
      window.open(currentObjectUrl, "_blank", "noopener,noreferrer");
      log("Opened Object URL in a new tab.");
    });

    runBatBtn.addEventListener("click", () => {
      log("Blocked by design: browsers cannot run local .bat files.");
      log("Options: Electron (Node.js), a native helper app, or a local backend endpoint.");
    });

    clearBtn.addEventListener("click", () => {
      revokeCurrentUrl();
      fileInput.value = "";
      logEl.textContent = "";
      setTelemetry({ original: null, clone: null, objectUrl: null });
      log("Cleared UI state.");
    });

    // init log
    log("System online. Awaiting file input…");
    setTelemetry({ original: null, clone: null, objectUrl: null });
  </script>
</body>
</html>
